{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_getHello","parameters":[],"responses":{"200":{"description":"Returns a hello message."}},"summary":"Get hello message","tags":["App"]}},"/health":{"get":{"operationId":"AppController_getHealth","parameters":[],"responses":{"200":{"description":"Returns health status, timestamp, and environment.","content":{"application/json":{"schema":{"example":{"status":"ok","timestamp":"2024-06-01T12:00:00.000Z","environment":"development"}}}}}},"summary":"Get health status","tags":["App"]}},"/users":{"post":{"operationId":"UsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"User created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"400":{"description":"Bad request"},"409":{"description":"Username or email already exists"}},"security":[{"bearer":[]}],"summary":"Create a new user","tags":["users"]},"get":{"operationId":"UsersController_findAll","parameters":[],"responses":{"200":{"description":"List of users","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Get all users","tags":["users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"number"}}],"responses":{"200":{"description":"User found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"User not found"}},"security":[{"bearer":[]}],"summary":"Get user by ID","tags":["users"]},"patch":{"operationId":"UsersController_update","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"404":{"description":"User not found"},"409":{"description":"Username or email already exists"}},"security":[{"bearer":[]}],"summary":"Update user","tags":["users"]},"delete":{"operationId":"UsersController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"User ID","schema":{"type":"number"}}],"responses":{"204":{"description":"User deleted successfully"},"403":{"description":"Forbidden - Admin role required"},"404":{"description":"User not found"}},"security":[{"bearer":[]}],"summary":"Delete user (Admin only)","tags":["users"]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"200":{"description":"Login successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"401":{"description":"Invalid credentials"}},"summary":"User login","tags":["auth"]}},"/auth/profile":{"get":{"operationId":"AuthController_getProfile","parameters":[],"responses":{"200":{"description":"User profile retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserResponseDto"}}}},"401":{"description":"Unauthorized"}},"security":[{"bearer":[]}],"summary":"Get current user profile","tags":["auth"]}},"/appointments":{"post":{"operationId":"AppointmentsController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAppointmentDto"}}}},"responses":{"201":{"description":"Appointment created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}},"400":{"description":"Bad request"},"404":{"description":"User not found"}},"security":[{"bearer":[]}],"summary":"Create a new appointment","tags":["appointments"]},"get":{"operationId":"AppointmentsController_findAll","parameters":[{"name":"userId","required":false,"in":"query","description":"Filter appointments by user ID","schema":{"type":"number"}}],"responses":{"200":{"description":"List of appointments","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}}}},"security":[{"bearer":[]}],"summary":"Get all appointments","tags":["appointments"]}},"/appointments/{id}":{"get":{"operationId":"AppointmentsController_findOne","parameters":[{"name":"id","required":true,"in":"path","description":"Appointment ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Appointment found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}},"404":{"description":"Appointment not found"}},"security":[{"bearer":[]}],"summary":"Get appointment by ID","tags":["appointments"]},"patch":{"operationId":"AppointmentsController_update","parameters":[{"name":"id","required":true,"in":"path","description":"Appointment ID","schema":{"type":"number"}}],"responses":{"200":{"description":"Appointment updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppointmentResponseDto"}}}},"404":{"description":"Appointment not found"}},"security":[{"bearer":[]}],"summary":"Update appointment","tags":["appointments"]},"delete":{"operationId":"AppointmentsController_remove","parameters":[{"name":"id","required":true,"in":"path","description":"Appointment ID","schema":{"type":"number"}}],"responses":{"204":{"description":"Appointment deleted successfully"},"404":{"description":"Appointment not found"}},"security":[{"bearer":[]}],"summary":"Delete appointment","tags":["appointments"]}}},"info":{"title":"IAM Dashboard API","description":"Identity and Access Management Dashboard RESTful API","version":"1.0","contact":{}},"tags":[{"name":"auth","description":"Authentication endpoints"},{"name":"users","description":"User management endpoints"},{"name":"appointments","description":"Appointment management endpoints"}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"username":{"type":"string","description":"Username for the user","example":"johndoe","minLength":3,"maxLength":50},"email":{"type":"string","description":"Email address of the user","example":"john.doe@example.com"},"password":{"type":"string","description":"Password for the user","example":"SecurePassword123!","minLength":8},"roles":{"type":"array","description":"User roles","example":["user"],"items":{"type":"string","enum":["user","admin","moderator"]}},"status":{"type":"string","description":"User status","example":"active","enum":["active","inactive","suspended"]}},"required":["username","email","password"]},"UserResponseDto":{"type":"object","properties":{"id":{"type":"number","description":"User ID","example":1},"username":{"type":"string","description":"Username","example":"johndoe"},"email":{"type":"string","description":"Email","example":"john.doe@example.com"},"roles":{"description":"User roles","example":["user"],"type":"array","items":{"type":"string"}},"status":{"type":"string","description":"User status","example":"active"},"createdAt":{"format":"date-time","type":"string","description":"Creation date"},"updatedAt":{"format":"date-time","type":"string","description":"Last update date"}},"required":["id","username","email","roles","status","createdAt","updatedAt"]},"UpdateUserDto":{"type":"object","properties":{"username":{"type":"string","description":"Username for the user","example":"johndoe","minLength":3,"maxLength":50},"email":{"type":"string","description":"Email address of the user","example":"john.doe@example.com"},"password":{"type":"string","description":"New password for the user","example":"NewSecurePassword123!","minLength":8},"roles":{"type":"array","description":"User roles","example":["user"],"items":{"type":"string","enum":["user","admin","moderator"]}},"status":{"type":"string","description":"User status","example":"active","enum":["active","inactive","suspended"]}}},"LoginDto":{"type":"object","properties":{"username":{"type":"string","description":"Username for authentication","example":"johndoe"},"password":{"type":"string","description":"Password for authentication","example":"SecurePassword123!"}},"required":["username","password"]},"AuthResponseDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"JWT access token","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"tokenType":{"type":"string","description":"Token type","example":"Bearer"},"expiresIn":{"type":"string","description":"Token expiration time","example":"24h"},"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserResponseDto"}]}},"required":["accessToken","tokenType","expiresIn","user"]},"CreateAppointmentDto":{"type":"object","properties":{"userId":{"type":"number","description":"User ID for the appointment","example":1},"title":{"type":"string","description":"Title of the appointment","example":"Medical Checkup","maxLength":255},"description":{"type":"string","description":"Description of the appointment","example":"Annual health checkup with Dr. Smith"},"dateTime":{"type":"string","description":"Date and time of the appointment","example":"2024-12-25T10:30:00Z"},"status":{"type":"string","description":"Status of the appointment","example":"scheduled","enum":["scheduled","confirmed","cancelled","completed"]}},"required":["userId","title","dateTime"]},"AppointmentResponseDto":{"type":"object","properties":{"id":{"type":"number","description":"Appointment ID","example":1},"userId":{"type":"number","description":"User ID","example":1},"title":{"type":"string","description":"Appointment title","example":"Medical Checkup"},"description":{"type":"string","description":"Appointment description","example":"Annual health checkup with Dr. Smith"},"dateTime":{"format":"date-time","type":"string","description":"Date and time of appointment","example":"2024-12-25T10:30:00Z"},"status":{"type":"string","description":"Appointment status","example":"scheduled"},"createdAt":{"format":"date-time","type":"string","description":"Creation date"},"updatedAt":{"format":"date-time","type":"string","description":"Last update date"},"user":{"description":"User information","allOf":[{"$ref":"#/components/schemas/UserResponseDto"}]}},"required":["id","userId","title","description","dateTime","status","createdAt","updatedAt","user"]}}}}